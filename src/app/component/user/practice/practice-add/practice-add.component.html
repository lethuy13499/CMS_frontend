<div class="tong">
  <div class="themmoibaithi">
    <br />
    <form [formGroup]="addDetail" enctype="multipart/form-data">
      <div style="text-align: left;"><h4>TẠO BÀI PRACTICE</h4></div>
      <div class="modal-body">
        <!-- <div class="form-group">
          <label> Tên bài practice <span class="required_field">*</span></label>
          <input #namepractice
            type="text"
            class="form-control"
            (change)="checkSpaceName($event)"
            formControlName="nameofpractise"
            style="border: 1px solid gray;"
          />
        </div> -->
        <!-- <div
          class="form-group alert alert-danger"
          role="alert"
          *ngIf="submmited || (addDetail.get('nameofpractise').errors && addDetail.get('nameofpractise').touched)"
          style=" height: 30px; padding: 5px; margin: 0 auto; margin-bottom: 10px;">
          <span style="font-size: 12px;margin:auto; float: left;" *ngIf="addDetail.hasError('required', ['nameofpractise'])">
            Vui lòng nhập tên bài thi thử!
          </span>
          <span *ngIf="addDetail.hasError('whitespace', ['nameofpractise'])"
            >Vui lòng nhập giá trị cho câu hỏi & chứa trên kí tự</span
          >
          <span style="font-size: 12px;margin:auto; float: left;" *ngIf="addDetail.hasError('maxlength', ['nameofpractise'])">
            Tên bài thi không được vượt quá 100 kí tự!
          </span>
          <span style="font-size: 12px;margin:auto; float: left;" *ngIf="addDetail.hasError('minlength', ['nameofpractise'])">
            Tên bài thi không được dưới 10 kí tự!
          </span>
        </div> -->
        <div class="form-group row col-md-12 ">
          <label class="col-md-3">Tổng số câu hỏi: </label>
          <input
            type="number"
            min="0"
            onkeypress="return event.charCode >= 48"
            formControlName="numofquestion"
            style="border-radius: 5px; border: 1px solid gray; height: 40px; float: left; position: relative;bottom: 5px"
            class="col-md-4"
          />
        </div>
        <div class="form-group" style="margin-left: 15px;">
          <label> Chủ đề <span class="required_field">*</span></label>
          <select #subject
            class="form-control col-md-10"
            formControlName="subject"
            (change)="onChange($event)"
            style="border: 1px solid gray;"
          >
            <option
              *ngFor="let subject of subjects"
              value="{{ subject.id }}"
              selected
              >{{ subject.name }}</option
            >
          </select>
        </div>
        <div
          class="form-group alert alert-danger"
          role="alert"
          *ngIf="submmited || (addDetail.get('subject').errors && addDetail.get('subject').touched)"
          style=" height: 30px; padding: 5px; margin: 0 auto; margin-bottom: 10px; margin-left: 15px">
          <span style="font-size: 12px;margin:auto; float: left;" *ngIf="addDetail.hasError('required', ['subject'])">
            Vui lòng chọn chủ đề!
          </span>
        </div>
        <div class="form-group" style="margin-left: 15px;">
          <label style="width: 25%;">Chọn loại câu hỏi:</label>
          <label class="radio-inline" style="width: 25%;">
            <input type="radio" name="typeQuestion" (click)="setRadio(1)" checked> Domain
          </label>
          <label class="radio-inline" style="width: 25%;" (click)="setRadio(2)">
            <input type="radio" name="typeQuestion"> Chapter
          </label>
          <label class="radio-inline" style="width: 25%;"(click)="setRadio(3);selectSearch()">
            <input type="radio" name="typeQuestion"> Từ khóa
          </label>
        </div>
        <!-- <div class="form-group" *ngIf="isSelected('Chapter')">
          <label>Chương</label>
          <select
            style=" border: 1px solid gray;"
            class="form-control col-md-6"
            [(ngModel)]="defaultCt"
            (change)="selectedChapter($event)"
            formControlName="selectChapter"
          >
            <option [value]="chapter.id" *ngFor="let chapter of chapters">{{
              chapter.name
            }}</option>
          </select>
        </div> -->
        <div class=" form -group row" *ngIf="isSelected(2)" style="margin-left: 0px;">
          <div class="col-xs-12 col-sm-12	col-md-12 col-lg-12">
            <label style="font-size: 14px;width: 100%;">Chọn chapter<span
                class="required_field">*</span>
            </label>
            <!-- <mat-error style="font-size: 12px" *ngIf="maxQuestion && !isQuestion">Số câu không lớn hơn số câu của chapter và tổng
              số câu hỏi</mat-error>
            <mat-error style="font-size: 12px" *ngIf="isQuestion">Không có câu hỏi, chọn chapter khác!</mat-error> -->
            <!-- <div formArrayName="detailSelectChapter">
              <div *ngFor="let question of getdetailChapter.controls; let i = index;">
                <div [formGroupName]="i" class="row ">
                  <div class="col-xs-12 col-sm-12	col-md-12 col-lg-12"> -->
                    <!-- <label>
                      <mat-error *ngIf="
                        getQuestionChapter(i).controls['numberQuestion'].touched
                        && getQuestionChapter(i).controls['numberQuestion'].hasError('required')  && !isQuestion"
                        style="font-size: 12px">
                        Không được để trống số câu!
                      </mat-error>
                      <mat-error *ngIf="getQuestionChapter(i).controls['numberQuestion'].touched
                        && getQuestionChapter(i).controls['numberQuestion'].hasError('pattern')  && !isQuestion"
                        style="font-size: 12px">
                        Số câu phải là số!
                      </mat-error>
                    </label> -->
                    <div class="form-group row col-xs-12 col-sm-12	col-md-12 col-lg-12" style="margin-top: -10px;">
                      <select class="form-control" formControlName="selectChapter"
                        style="width: 30%;float: left; border-radius: 5px; border: 1px solid gray;" (change)="selectChapter($event,i)">
                        <option [value]="chapter.id" *ngFor="let chapter of listChapter">{{ chapter.name }}</option>
                      </select>
                      <!-- <input type="text" class="form-control" formControlName="numberQuestion"
                        placeholder="Số câu" style="width: 15%;float: left; margin-left: 5%; border-radius: 5px; border: 1px solid gray;"
                        (keyup)="validateMaxChapter($event.target.value,i)" />
                        <input class="checkValidBt" *ngIf="getQuestionChapter(i).controls['tooltip'].value != ''"
                        type="button" formControlName="tooltip" />
                      <ng-container *ngIf="getdetailChapter.length != 1">
                        <button class="btn btn-danger" type="button" (click)="removeQuestionChapter(i)"
                          style="margin-left: 15px; ">
                          X </button>
                      </ng-container> -->
                    </div>
                  <!-- </div>
                </div>
              </div> -->

              <!-- <button class="btn btn-primary" type="button" [disabled]="isDisable"
                (click)="addQuestionChapter()" style="margin: 10px 12px 10px 0px; ">
                Thêm chapter </button> -->
            <!-- </div> -->
          </div>
        </div>
        <div class=" form -group row" *ngIf="isSelected(1)" style="margin-left: 0px;">
          <div class="col-xs-12 col-sm-12	col-md-12 col-lg-12">
            <label style="font-size: 14px;width: 100%;">Chọn Domain<span
                class="required_field">*</span>
            </label>
                    <div class="form-group row col-xs-12 col-sm-12	col-md-12 col-lg-12" style="margin-top: -10px;">
                      <select class="form-control" formControlName="selectDomain"
                        style="width: 30%;float: left; border-radius: 5px; border: 1px solid gray;" (change)="selectDomain($event,i)">
                        <option [value]="domain.id" *ngFor="let domain of listDomain">{{ domain.name }}</option>
                      </select>
                    </div>
          </div>
        </div>
        <div class=" form -group row" *ngIf="isSelected(3)" style="margin-left: 0px;">
          <div class="col-xs-12 col-sm-12	col-md-12 col-lg-12">
            <label style="font-size: 14px;width: 100%;">Nhập keyword
            </label>
                    <div class="form-group row col-xs-12 col-sm-12	col-md-12 col-lg-12" style="margin-top: -10px;">
                      <input type="text" style="width: 30%;font-size: 14px;float: left; border-radius: 5px; border: 1px solid gray;height: 38px;" formControlName="key"
                    class="form-control" />
                    </div>
          </div>
        </div>
        <!-- <div class="form-group" *ngIf="isSelected('Domain')">
          <label>Kĩ năng</label>
          <select
            style=" border: 1px solid gray;"
            class="form-control col-md-6"
            [(ngModel)]="defaultDm"
            (change)="selectedDomain($event)"
            formControlName="selectDomain"
          >
            <option [value]="domain.id" *ngFor="let domain of domains">
              {{ domain.name }}</option
            >
          </select>
        </div> -->
        <!-- <div class="form-group row" *ngIf="isSelected(1)" style="margin-left: 0px;">
          <div class="col-xs-12 col-sm-12	col-md-12 col-lg-12">
            <label style="font-size: 14px;width: 100%;">Chọn Domain<span
                class="required_field">*</span>
            </label> -->
            <!-- <mat-error style="font-size: 12px" *ngIf="maxQuestion && !isQuestion">Số câu không lớn hơn số câu của domain và tổng số
              câu
              hỏi</mat-error> -->
            <!-- <mat-error style="font-size: 12px" *ngIf="isQuestion">Không có câu hỏi, chọn domain khác!</mat-error> -->
            <!-- <div formArrayName="detailSelectDomain">
              <div *ngFor="let question of getdetailDomain.controls; let i = index;">
                <div [formGroupName]="i" class="row">
                  <div class="col-xs-12 col-sm-12	col-md-12 col-lg-12"> -->
                    <!-- <label>
                      <mat-error *ngIf="
                        getQuestionDomain(i).controls['numberQuestion'].touched
                        && getQuestionDomain(i).controls['numberQuestion'].hasError('required')  && !isQuestion"
                        style="font-size: 12px">
                        Không được để trống số câu!
                      </mat-error>
                      <mat-error *ngIf="getQuestionDomain(i).controls['numberQuestion'].touched
                        && getQuestionDomain(i).controls['numberQuestion'].hasError('pattern')  && !isQuestion"
                        style="font-size: 12px">
                        Số câu phải là số!
                      </mat-error>
                    </label> -->
                    <!-- <div class="form-group row col-xs-12 col-sm-12	col-md-12 col-lg-12" style="margin-top: -10px; ">
                      <select class="form-control" formControlName="selectDomain"
                        style="width: 30%;float: left; border-radius: 5px; border: 1px solid gray;" (change)="selectDomain($event,i)">
                        <option [value]="domain.id" *ngFor="let domain of listDomain">{{ domain.name }}</option>
                      </select> -->
                      <!-- <input type="text" class="form-control" formControlName="numberQuestion"
                        placeholder="Số câu" style="width: 15%;float: left; margin-left: 5%;border-radius: 5px; border: 1px solid gray;"
                        (keyup)="validateMax($event.target.value,i)" />
                        <input class="checkValidBt" *ngIf="getQuestionDomain(i).controls['tooltip'].value !== ''"
                        type="button" formControlName="tooltip" />
                      <ng-container *ngIf="getdetailDomain.length != 1">
                        <button class="btn btn-danger" type="button" (click)="removeQuestionDomain(i)"
                          style="margin-left: 15px; ">
                          X </button>
                      </ng-container> -->
                    <!-- </div> -->
                  <!-- </div>
                </div>
              </div> -->

              <!-- <button class="btn btn-primary" type="button" [disabled]="isDisable"
                (click)="addQuestionDomain()" style="margin: 10px 12px 10px 0px; ">
                Thêm domain </button> -->
            <!-- </div> -->
          <!-- </div>
        </div> -->
        <!-- <div class="form-group" *ngIf="isSelected(3)">
          <label for="">Từ khóa</label>
          <input class="form-control col-md-6" formControlName="key" style="margin-bottom: 7px; border: 1px solid gray" type="text"/>
        </div> -->
        <!-- <div class="form-group row" *ngIf="isSelected(3)" style="margin-left: 0px;">
          <div class="col-xs-9 col-sm-9	col-md-9 col-lg-9">
            <label style="font-size: 14px;margin-right: 30px">Nhập từ khóa<span class="required_field">*</span>
            </label>
            <div class="row" style="margin-bottom: 10px">
              <div class="col-xs-9 col-sm-9	col-md-9 col-lg-9">
                <div class="form-group">
                  <input type="text" style="width: 50%;font-size: 14px;float: left; border-radius: 5px; border: 1px solid gray;" formControlName="key"
                    class="form-control" /> -->
                  <!-- <button type="button" class="btn btn-primary" (click)="search()"
                    style="margin: 0px 10px 0px 10px">Tìm kiếm</button>
                  <input class="checkValidBt" *ngIf="numSearch >= 0" type="button" [value]="numSearch" /> -->
                <!-- </div> -->
                <!-- <mat-error style="font-size: 12px" *ngIf="errSearch">{{mess}}</mat-error> -->
              <!-- </div>
            </div>
          </div>
        </div> -->
        <button
          (click)="onSubmitInsert()"
          class="btn btn-success"
          style="margin-left: 15px;"
        ><span style="font-size: 15px;">Tạo mới</span>

        </button>
        <button
          style="margin-left: 30px; width: 72px; font-size: 15px !important;"
          (click)="onBack()"
          class="btn btn-dark"
        >
          Đóng
        </button>
      </div>
    </form>
  </div>
</div>
